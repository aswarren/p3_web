<form dojoAttachPoint="containerNode" class="PanelForm App ${baseClass}"
    dojoAttachEvent="onreset:_onReset,onsubmit:_onSubmit,onchange:validate">
        <div class="appTemplate">
            <div class="appTitle">
                <span class="breadcrumb">Services</span>
                <h3>Synteny Graphs</h3>
                <p>Create a syteny graph from selected genomes or groups. <br>WARNING: This is an approximate whole genome multiple sequence alignment.
                <br>Dissimilar genomes will produce large graphs e.g. 10 unrelated genomes x ~ 4,000 genes = 40,000 seperate nodes (will probably break your browser).
                <br>The more closely related the genomes the more you can put in. e.g. 400 well conserved Brucella.
                </p>
            </div>
        <div class="formFieldsContainer">
            <div style="display: none;">
                <input data-dojo-type="dijit/form/NumberTextBox" value="0" required="true"
                        data-dojo-attach-point="numgenomes" data-dojo-props="constraints:{min:1,max:500},"/>
            </div>
            <div style="display: none;">
                <input data-dojo-type="dijit/form/NumberTextBox" value="1" required="true"
                        data-dojo-attach-point="workinggroup" data-dojo-props="constraints:{min:1,max:500},"/>
            </div>
            <div style="margin-top:10px" class="appBox appShadow">
                <div class="headerrow">
                    <div style="width:90%;display:inline-block;">
                        <label class="appBoxLabel">Comparison Genomes</label>
                        <div name="comparisoninfo" class="infobox iconbox infobutton dialoginfo">
                            <i class="fa icon-info-circle fa"></i>
                        </div>
                    </div>
                </div>
              <div class="appRow">
                <label class="paramlabel">Output Folder</label><br>
                <div data-dojo-type="p3/widget/WorkspaceObjectSelector" name="output_path" data-dojo-attach-point="output_path" style="width:300px" required="true" data-dojo-props="title:'Select an Output Folder',autoSelectCurrent:true,selectionText:'Destination',type:['folder'],multi:false" data-dojo-attach-event="onChange:onOutputPathChange"></div>
              </div>
              <div class="appRow">
                <label class="paramlabel">Output Name</label><span class="charError" style="color:red; font-size:8pt; padding-left:10px; font-weight:bold">&nbsp;</span><br>
                <div data-dojo-type="p3/widget/WorkspaceFilenameValidationTextBox" data-dojo-attach-event="onChange:checkOutputName" name="output_file" data-dojo-attach-point="output_file" style="width:300px" required="true" data-dojo-props="intermediateChanges:true,missingMessage:'Name must be provided for the job result',trim:true,placeHolder:'Output Name'"></div>
              </div>
                <div class="appRow">
                    <div class="appRowSegment" style="text-align:left;margin:0 0 0 0">
                            <label class="paramlabel">Color by</label><br>
                            <select data-dojo-type="dijit/form/Select" name="diversity" data-dojo-attach-point="diversity"
                            style="width:300px" required="false"
                            data-dojo-props="intermediateChanges:true,missingMessage:'Name Must be provided for Folder',trim:true,placeHolder:'MySubFolder'">
                                <option value="species">Species</option>
                                <option value="genus">Genus</option>
                        </select>
                    </div>
                    <div class="appRowSegment" style="text-align:left;margin:0 0 0 0">
                        <label class="paramlabel">Family Type</label><br>
                            <select data-dojo-type="dijit/form/Select" name="alpha" data-dojo-attach-point="alpha"
                            style="width:300px" required="false"
                            data-dojo-props="intermediateChanges:true,missingMessage:'Name Must be provided for Folder',trim:true,placeHolder:'MySubFolder'">
                                <option value="patric_pgfam">PG-Fam</option>
                                <option value="patric_plfam">PL-Fam</option>
                                <option value="patric_figfam">FigFam</option>
                                <option value="patric_frole">Func. Roles</option>
                        </select>
                    </div>
                </div>
                <div class="appRow" style="margin:0 0 0 0">
                    <div class="appRowSegment" style="text-align:left;margin:0 0 0 0">
                        <label class="paramlabel">k-length</label><br>
                        <div class="insertspinner" name="k_len"
                                data-dojo-type="dijit/form/NumberSpinner"
                                data-dojo-attach-point="ksize"
                                data-dojo-props="value:3, smallDelta:1, constraints:{min:3,max:9,places:0}"></div>
                    </div>
                    <div class="appRowSegment" style="text-align:left;margin:10px 0 0 0">
                        <label  class="paramlabel">Context</label><br>
                        <select data-dojo-type="dijit/form/Select" name="context" data-dojo-attach-point="context"
                                style="width:100px" required="false"
                                data-dojo-props="intermediateChanges:true,missingMessage:'Name Must be provided for Folder',trim:true,placeHolder:'MySubFolder'">
                            <option value="genome">Genome</option>
                            <option value="contig">Sequence</option>
                            <option value="feature">Feature</option>
                        </select>
                    </div>
                </div>
                <div class="appRow">
                    <label>Add Genomes To Compare</label></br>
                    <div style="width:85%;display:inline-block;"
                            data-dojo-type="p3/widget/GenomeNameSelector" name="comp_genome_id" maxHeight=200
                            required="false" data-dojo-attach-point="comp_genome_id"
                            data-dojo-props="placeHolder:'e.g. M. tuberculosis CDC1551'"></div>
                    <div style="width:10%;display:inline-block;"><i
                            data-dojo-attach-event="click:onAddGenome"
                            class="fa icon-plus-circle fa-lg"></i></div>
                    </br>
                    <label>Select genome group</label></br>
                    <div style="width:85%;display:inline-block;"
                            data-dojo-type="p3/widget/WorkspaceObjectSelector" name="user_genome_group"
                            required="false" data-dojo-attach-point="user_genome_group"
                            data-dojo-props="type:['genome_group'],multi:false,promptMessage:'Select a feature group from your workspace for Comparison',missingMessage:'Feature group is optional.', placeHolder:'Optional'"></div>
                    <div style="width:10%;display:inline-block;"><i
                            data-dojo-attach-event="click:onAddGenomeGroup"
                            class="fa icon-plus-circle fa-lg"></i></div>
                    </br>
                </div>

                <div class="appRow">
                    <label> Selected genome table</label>
                </div>

                <div class="appRow" style="width:90%; margin-top:10px; text-align: center;">
                    <table class="librarytable" frame="box" data-dojo-attach-point="genomeTable"
                            style='margin:0 0 0 10px; width:100%;'>
                        <tbody data-dojo-attach-point="genomeTableBody">

                        </tbody>
                    </table>
                </div>

            </div>
        </div>

            <div class="appSubmissionArea">
                <div data-dojo-attach-point="workingMessage" class="messageContainer workingMessage" style="margin-top:10px; text-align:center;">
                    Submitting Job
                </div>
                <div data-dojo-attach-point="errorMessage" class="messageContainer errorMessage" style="margin-top:10px; text-align:center;">
                    Error Submitting Job
                </div>
                <div data-dojo-attach-point="submittedMessage" class="messageContainer submittedMessage" style="margin-top:10px; text-align:center;">
                    Job has been queued.
                </div>
                <div style="margin-top: 10px; text-align:center;">
                    <div data-dojo-attach-point="cancelButton" data-dojo-attach-event="onClick:onCancel" data-dojo-type="dijit/form/Button">Cancel
                    </div>
                    <div data-dojo-attach-point="resetButton" type="reset" data-dojo-type="dijit/form/Button">Reset</div>
                    <div data-dojo-attach-point="submitButton" type="submit" data-dojo-type="dijit/form/Button">Submit</div>
                </div>
            </div>
        </div>
    

</form>
